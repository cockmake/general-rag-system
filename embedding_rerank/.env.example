# Embedding Service 环境变量配置示例
# 复制此文件为 .env 并修改配置

# ==================== 模型配置 ====================
# 模型名称（Hugging Face模型ID或本地路径）
EMBEDDING_MODEL_NAME=Qwen/Qwen3-Embedding-0.6B
# EMBEDDING_MODEL_NAME=BAAI/bge-large-zh-v1.5
# EMBEDDING_MODEL_NAME=intfloat/e5-large-v2

# 本地模型路径（可选，如果设置则优先使用）
# EMBEDDING_MODEL_PATH=/path/to/local/model

# ==================== GPU配置 ====================
# GPU显存使用率（0-1之间，推荐0.4）
EMBEDDING_GPU_MEMORY_UTILIZATION=0.4

# 最大序列长度（token数，推荐3072）
EMBEDDING_MAX_MODEL_LEN=3072

# GPU并行数（多卡时设置，单卡为1）
EMBEDDING_TENSOR_PARALLEL_SIZE=1

# 数据类型（float16/bfloat16/float32，推荐float16）
EMBEDDING_DTYPE=float16

# ==================== 服务配置 ====================
# 服务监听地址
EMBEDDING_HOST=0.0.0.0

# 服务端口
EMBEDDING_PORT=8890

# Worker进程数（推荐1，多进程会占用更多显存）
EMBEDDING_WORKERS=1

# ==================== 批处理配置 ====================
# 最大批量大小
EMBEDDING_MAX_BATCH_SIZE=32

# 批处理超时时间（秒）
EMBEDDING_BATCH_TIMEOUT=10

# ==================== 日志配置 ====================
# 日志级别（DEBUG/INFO/WARNING/ERROR）
EMBEDDING_LOG_LEVEL=INFO
